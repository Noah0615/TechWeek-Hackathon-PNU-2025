{% extends "base.html" %}

{% block title %}Resume Analyzer{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Resume Analyzer</h1>
    <p>Upload your resume image and select a job role to get feedback.</p>
</div>

<div class="content-section">
    <form action="/upload" method="post" enctype="multipart/form-data" id="upload-form">
        <div class="form-group">
            <label for="resume">Upload Resume Image:</label>
            <input type="file" id="resume" name="resume" accept="image/*" required>
        </div>
        
        <div class="form-group">
            <label for="job_role">Select Job Role:</label>
            <select id="job_role" name="job_role" required>
                <option value="" disabled selected>--Please choose a job role--</option>
                {% for role in job_roles %}
                <option value="{{ role }}">{{ role }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="text-center">
            <button type="submit">Analyze</button>
        </div>
    </form>
</div>

<script>
    document.getElementById('upload-form').addEventListener('submit', function() {
        const jobRole = document.getElementById('job_role').value;
        const resumeFile = document.getElementById('resume').files.length > 0;
        if (jobRole && resumeFile) {
            showLoader('We are evaluating your resume...');
        }
    });
</script>
{% endblock %}